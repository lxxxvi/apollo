.flex.mb-10
  .w-full
    = link_to 'Back to overview', root_path, class: 'shy-link'

.poll-title
  .flex
    %div{ class: 'w-3/5' }
      %h1= @poll.title
    %div{ class: 'w-2/5' }
      - if policy(@poll).admin?
        .h-full.relative
          .absolute.bottom-0.right-0
            .poll-actions
              = link_to 'Manage', admin_poll_path(@poll), class: 'shy-link'

.poll-state.my-10
  .flex.py-3.px-5{ class: "poll-state-#{@poll.state}" }
    .tracking-wider.uppercase.align-middle{ class: 'w-1/2' }= @poll.state
    .text-right{ class: 'w-1/2' }
      - if !@poll.user.verified?
        In order to publish this poll you need to verify your email first.
      - elsif @poll.publishable?
        = render 'admin/polls/publishment/form', form: Admin::PollPublishmentForm.new(@poll)
      - elsif @poll.startable?
        = render 'admin/polls/start/form', form: Admin::PollStartForm.new(@poll)
      - elsif @poll.closable?
        = render 'admin/polls/closing/form', form: Admin::PollClosingForm.new(@poll)
      - elsif @poll.archivable?
        = render 'admin/polls/archiving/form', form: Admin::PollArchivingForm.new(@poll)

%h2 About

.about
  .flex.mt-5.mb-10
    .w-full.shadow-inner.bg-gray-100.py-3.px-2
      %p= @poll.description


%h2 Nominees

.nominees
  .mt-5
    %ul
      - @poll.nominees.each do |nominee|
        %li.nominee.card.mb-10
          .flex
            %div{ class: 'w-1/3' }
            %div{ class: 'w-2/3 py-2 px-3' }
              .flex
                .w-full
                  %h3= nominee.name
                  %p= nominee.description
